<?phpnamespace hypeJunction\Categories;$entity       = elgg_extract('entity'   , $vars);$input_params = elgg_extract('input'    , $vars, array());$name         = elgg_extract('name'     , $input_params, 'categories');$value        = elgg_extract('value'    , $input_params, array());$root_name    = elgg_extract('root_name', $input_params);$add_leaf     = elgg_extract('add_leaf' , $input_params);$multiple     = elgg_extract('multiple' , $input_params, HYPECATEGORIES_INPUT_MULTIPLE);if (elgg_instanceof($entity, 'object', HYPECATEGORIES_SUBTYPE)) {	$children = get_subcategories($entity->guid, array('count' => true));//	if ($children == 0) {		$checkbox_attr = elgg_format_attributes(array(			'type' => ($multiple === false) ? 'radio' : 'checkbox',			'name' => "{$name}[]",			'value' => $entity->guid,			'checked' => (is_array($value) && in_array($entity->guid, $value)),		));		$checkbox = "<input $checkbox_attr />";//		$subcat = ': ' . elgg_view('input/text', array('name' => "{$name}[{$entity->guid}][]", 'style'=>'width:100px'));//	}	$attr = $entity->title;}	else if (elgg_instanceof($entity, 'site')) {        	if ($add_leaf){$custom_cats = ' : '."<span title='Custom lineage of selected category. Separate category levels with colons.'>"    	                                   .elgg_view('input/text', array('name'=>'custom_categories','placeholder'=>'New : Custom : Category','style'=>'width:200px'))    	                                   .'</span>';}    	if ($root_name){$attr = $root_name.$custom_cats;}        //    if ($root_name){$attr = $root_name;}    	else           {$attr = elgg_echo('categories:select:site').$custom_cats;}    	} else {	$attr = elgg_echo('categories:select:group');}echo $checkbox . $attr . $subcat;//echo '<label>' . $checkbox . $attr . '</label>';