<?php$page_owner = elgg_get_page_owner_entity();$show_tally = elgg_extract('show_tally', $vars, true);$show_empty = elgg_extract('show_empty', $vars, false);$vars['name'] = preg_replace('/[^a-z0-9\-]/i', '-', $vars['name']);$headers = elgg_extract('show_section_headers', $vars, false);$class = "elgg-menu elgg-menu-{$vars['name']}";if (isset($vars['class'])) {	$class .= " {$vars['class']}";}foreach ($vars['menu'] as $section => $menu_item) {    $menu_items = NULL;    if ($show_tally){        $item_count = NULL;        $item_count = hypeJunction\Categories\get_filed_items($menu_item->guid, array(        	'count' => true,        	'container_guids' => (HYPECATEGORIES_GROUP_CATEGORIES && elgg_instanceof($page_owner, 'group')) ? $page_owner->guid : null        ));        if ($item_count){$item_count_label = " ($item_count)";}    }    if (!show_empty){        $menu_items = quebx_get_occupied_subcategories($menu_item);    }    $menu_items = quebx_get_occupied_subcategories($menu_item);        echo $menu_item->title.$item_count_label;    echo count($menu_items);    echo $menu_items[$section]->title;	echo elgg_view('navigation/flyout/categories/section', array(		'items' => $menu_items,		'class' => "$class elgg-menu-{$vars['name']}-$section",		'section' => $section,		'name' => $menu_item->title.$item_count_label,		'show_section_headers' => $headers,		'show_toggle'=> $vars['show_toggle'],		'collapse'=> $vars['collapse'],	));}